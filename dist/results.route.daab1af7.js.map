{"mappings":"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","sources":["src/routes/results.route.tsx","src/components/searchResult.component.tsx","src/components/hotel.component.tsx","src/components/hotel.module.less","node_modules/@parcel/runtime-js/lib/runtime-14be19b05eb626aa.js","src/components/filter.component.tsx","src/components/filter.module.less","src/components/searchResult.module.less","src/services/http.service.ts","node_modules/@parcel/runtime-js/lib/runtime-123ea8cea63cefdc.js"],"sourcesContent":["/** @jsx h */\nimport { h, JSX } from 'preact'\nimport { useRouter } from \"preact-router\";\nimport { useState, useEffect } from 'preact/hooks';\nimport SearchComponent from '../components/search.component';\nimport SearchResultComponent from '../components/searchResult.component';\nimport { doRequest } from '../services/http.service';\nimport { BookingRequest, BookingResponse } from '../types/booking';\nimport { DateTime } from 'luxon';\nconst logo = require(\"../assets/images/loading.gif\") as string;\n\nexport default function ResultsRoute(): JSX.Element {\n    const [searchParams] = useRouter();\n    const [isLoading, setLoading ] = useState(true);\n    const [holidays, setHolidays] = useState<BookingResponse[]>([])\n\n    useEffect(() => {\n        setLoading(true);\n        const departureDate = DateTime.fromFormat(searchParams?.matches?.departureDate, \"yyyy-MM-dd\").toFormat(\"dd-MM-yyyy\");\n        const requestBody: BookingRequest = {\n            \"bookingType\": \"holiday\",\n            \"location\": searchParams?.matches?.location,\n            \"departureDate\": departureDate,\n            \"duration\": searchParams?.matches?.duration as unknown as number,\n            \"gateway\": \"LHR\",\n            \"partyCompositions\": [\n                {\n                    \"adults\": searchParams?.matches?.adults as unknown as number,\n                    \"childAges\": [],\n                    \"infants\": 0\n                }\n            ]\n        }\n\n        doRequest('POST', '/cjs-search-api/search', requestBody)\n            .then((response: unknown | BookingResponse) => {\n                setHolidays(response[\"holidays\"]);\n                setLoading(false);\n            })\n    }, [searchParams])\n\n\n    return (\n        <section>\n            <div className='container'>\n                <SearchComponent />\n            </div>\n            <div className='row'>\n            {isLoading ? (\n                    <div className=\"text-center py-5\">\n                        <img src={logo} width=\"200\" />\n                    </div>  \n                ) : <SearchResultComponent holidays={holidays} setLoading={setLoading} /> } \n                \n            </div>\n        </section>\n    )\n}","import { h, JSX } from 'preact';\r\nimport { useEffect, useState } from 'preact/hooks';\r\nimport { BookingResponse } from '../types/booking'\r\nimport Hotel from \"./hotel.component\"\r\nimport Filter from './filter.component';\r\nimport * as styles from './searchResult.module.less';\r\n\r\nexport default function SearchResultComponent(props): JSX.Element {\r\n  const holidays = props?.holidays;\r\n  const [filteredHolidays, setFilteredHolidays] = useState<BookingResponse[]>(holidays)\r\n  const [selectedPrice, setSelectedPrice] = useState<number[][]>([])\r\n  const [selectedRating, setSelectedRating] = useState<number[]>([])\r\n  const [selectedFacilities, setSelectedFacilities] = useState<string[]>([])\r\n  const [render, setRender] = useState(false)\r\n  \r\n  const handlePriceFilter = (e: MouseEvent) => {\r\n      const currentTarget = e.target as HTMLInputElement\r\n      const stringRangeArr = (currentTarget.value).split(',')\r\n      const numberRangeArr = stringRangeArr.map(item => parseInt(item))\r\n      const check = currentTarget.checked\r\n      if(check) setSelectedPrice(prevState => [...prevState, numberRangeArr])\r\n      if(!check) setSelectedPrice(prevState => prevState.filter(item => item[0]!==numberRangeArr[0] && item[1] !== numberRangeArr[1]))\r\n  }\r\n  \r\n  const handleRatingFilter = (e: MouseEvent) => {\r\n      const currentTarget = e.target as HTMLInputElement\r\n      const check = currentTarget.checked;\r\n      const value = parseInt(currentTarget.value);\r\n      if(check) setSelectedRating(prevState => [...prevState, value])\r\n      if(!check) setSelectedRating(prevState => prevState.filter(item => item!=value)) \r\n  }\r\n\r\n  const handleFacilityFilter = (e: MouseEvent) => {\r\n      const currentTarget = e.target as HTMLInputElement\r\n      const check = currentTarget.checked\r\n      if(check) setSelectedFacilities(prevState => [...prevState, currentTarget.value])\r\n      if(!check) setSelectedFacilities(prevState => prevState.filter(item => item!=currentTarget.value))   \r\n  }\r\n\r\n  const handleRemoveFilter = (e: MouseEvent) => {\r\n      setSelectedFacilities([])\r\n      setSelectedPrice([])\r\n      setSelectedRating([])\r\n      setRender(true)\r\n      setTimeout(()=>{setRender(false)}, 50)\r\n  }\r\n\r\n  useEffect(()=> {\r\n    setFilteredHolidays(holidays);\r\n  }, [holidays]);\r\n\r\n  useEffect(()=>selectedFilter(), [selectedPrice, selectedRating, selectedFacilities])\r\n\r\n  const selectedFilter = () => {\r\n    let filteredResult = holidays;\r\n    if(selectedRating.length > 0){\r\n        filteredResult = filteredResult.filter(holiday => selectedRating.indexOf(parseInt(holiday[\"hotel\"][\"content\"][\"vRating\"])) > -1 )\r\n    }\r\n    if(selectedPrice.length > 0) {\r\n       let filterHoliday : any[] = []\r\n       selectedPrice.forEach(range => {\r\n           filterHoliday.push(filteredResult.filter(holiday => holiday[\"pricePerPerson\"] >= range[0] && holiday[\"pricePerPerson\"] <= range[1]))\r\n        })\r\n        filteredResult = [].concat(...filterHoliday)\r\n    }    \r\n    if(selectedFacilities) {\r\n        filteredResult =  filteredResult.filter(holiday => selectedFacilities.every((requiredFacilities => holiday[\"hotel\"][\"content\"][\"hotelFacilities\"].includes(requiredFacilities))))\r\n    }\r\n    setFilteredHolidays(filteredResult);\r\n  }\r\n\r\n  return (\r\n    <section className={`full-bleed mt-4 ${styles['holiday-box']}`}>\r\n      <div className={`wrapper ${styles['holiday-list-box']}`}>\r\n        <div className='row'>\r\n          <div className='col-md-3'>\r\n            {!render && <div className={`${styles[\"filters\"]}`}>\r\n                <Filter handlePriceFilter={handlePriceFilter} handleRatingFilter={handleRatingFilter}  handleFacilityFilter={handleFacilityFilter} handleRemoveFilter={handleRemoveFilter}/>\r\n            </div>}\r\n\r\n          </div>\r\n          <div className='col-md-9'>\r\n            <div className='row'>\r\n                {filteredHolidays.length > 0 && \r\n                  <div className={`${styles[\"hotels-grid\"]}`}>\r\n                    {filteredHolidays.map(holiday => {\r\n                        return <Hotel hotel={holiday[\"hotel\"]} pricePP={holiday[\"pricePerPerson\"]}/>\r\n                    })}\r\n                  </div>}\r\n                  {filteredHolidays.length === 0 && \r\n                      <h1>No Hotels Found!!</h1>\r\n                  }\r\n              </div>\r\n          </div> \r\n        </div> \r\n      </div>\r\n    </section>\r\n  )\r\n}","/** @jsx h */\nimport { h } from \"preact\";\nimport { Hotel } from \"../types/booking\";\nimport * as styles from \"./hotel.module.less\";\nconst starIcon = require(\"../assets/images/star.png\") as string;\n\ntype HotelProps = {\n  hotel: Hotel;\n  pricePP: number;\n};\n\nexport default function Hotel({ hotel, pricePP }: HotelProps) {\n  const name: string = hotel[\"content\"][\"name\"];\n  const description: string = hotel[\"content\"][\"hotelDescription\"];\n  const facilities: Array<string> = hotel[\"content\"][\"hotelFacilities\"];\n  const rating: string | number = hotel.content.vRating;\n\n  const getImageSlider = (images) => {\n    const timestamp = Math.floor(Math.random() * 100);\n    return (\n      <div id={`carouselExampleControls${timestamp}`} className=\"carousel slide\" data-ride=\"carousel\">\n        <div className=\"carousel-inner\">\n            {images?.map(function(img, i){\n                return (\n                  <div className={`carousel-item ${i == 0 ? \"active\":\"\"}`}>\n                    <img className=\"d-block w-100 card-img-top\" src={img.RESULTS_CAROUSEL.url} />\n                  </div>\n                )\n              }       \n            )}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`\"card\" ${styles[\"card-box\"]}`}>\n      {getImageSlider(hotel[\"content\"][\"images\"])}\n      <div className=\"card-body\">\n        <h4 className={`\"card-title\" ${styles[\"header\"]}`}>{name}</h4>\n        <hr />\n        <div className={styles[\"cardText\"]}>\n          {rating}\n          <img src={starIcon} width=\"15\" />\n        </div>\n        <div className={`card-text ${styles[\"cardText\"]}`}>\n         <b> <span>&#8364;</span> {pricePP} <sub>PP</sub> </b>\n        </div>\n        <div className={`${styles[\"hotel-desc\"]}`}>          \n          {description}\n        </div>        \n      </div>\n    </div>\n  );\n}\n",".cardText {\n    margin-bottom: 5px;\n    font-weight: 600;\n    font-size: 1.1rem;\n}\n.header {\n    height: 40px;\n}\n.card-box {\n    width: 25rem;\n    box-shadow: 0 0 10px grey;\n}\n.hotel-desc {\n    display: -webkit-box;\n    max-width: 200px;\n    -webkit-line-clamp: 3;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n    height: 58px;\n}\n.hotel-facilities {\n    height: 60px;\n} ","module.exports = require('./helpers/bundle-url').getBundleURL('7nle3') + require('./helpers/bundle-manifest').resolve(\"lpPTk\");","/** @jsx h */\nimport { h, JSX } from \"preact\";\nimport { FACILITIES } from '../consts/search'\nimport * as style from \"./filter.module.less\";\n\n/* istanbul ignore next */\nconst starIcon = require(\"../assets/images/star.png\") as string;\n\ninterface FilterProps {\n  handlePriceFilter: (e: MouseEvent) => void;\n  handleRatingFilter: (e: MouseEvent) => void;\n  handleFacilityFilter: (e: MouseEvent) => void;\n  handleRemoveFilter: (e:MouseEvent) => void;\n}\n\nexport default function Filter({handlePriceFilter,handleRatingFilter,handleFacilityFilter, handleRemoveFilter}: FilterProps) {\n    \n    const priceFilter = (arr: any[]): JSX.Element => {\n        return (\n        <div className={style[\"filter-input\"]}>\n            <input\n            type=\"checkbox\"\n            id={arr[0].toString()}\n            onClick={handlePriceFilter}\n            value={arr}\n            />\n            <label\n            className=\"form-check-label\"\n            htmlFor={arr[0].toString()}\n            >{`From ${arr[0]} to ${arr[1]}`}</label>\n        </div>\n        );\n    };\n\n    const ratingFilter = (stars: number): JSX.Element => {\n        return (\n            <div className={style[\"filter-input\"]}>\n                <input\n                type=\"checkbox\"\n                id={stars.toString()}\n                onClick={handleRatingFilter}\n                value={stars}\n                />\n                <label\n                className=\"form-check-label\"\n                htmlFor={stars.toString()}\n                >\n                {stars}\n                <img src={starIcon} width=\"15\" />\n                +\n                </label>\n            </div>\n        );\n    };\n\n    return (\n        <div>\n            <div>\n            <h2>Filters</h2>\n            <div className=\"d-flex flex-row-reverse\">\n                <a className=\"btn btn-xs btn-secondary\" onClick={handleRemoveFilter}>Reset All</a>           \n            </div>\n            </div>\n            <hr />\n            <div className=\"rating-filter\">\n                <h4>Ratings</h4>\n                {ratingFilter(1)}\n                {ratingFilter(2)}\n                {ratingFilter(3)}\n                {ratingFilter(4)}\n                {ratingFilter(5)}\n            </div>\n            <hr />\n            <div className=\"price-filter\">\n                <h4>Price PP</h4>\n                {priceFilter([0, 500])}\n                {priceFilter([500, 1500])}\n                {priceFilter([1500, 3000])}\n                {priceFilter([3000, 5000])}\n            </div>\n            <div className=\"facility-filter\">\n                <hr />\n                <div className=\"rating-filter\">\n                <h4>Facilities</h4>\n                {FACILITIES.map((facility) => {\n                    return (\n                    <div className={style[\"filter-input\"]} key={facility}>\n                        <input type=\"checkbox\" value={facility} id={facility} onClick={handleFacilityFilter}/>\n                        <label className=\"form-check-label\" htmlFor={facility}>\n                        {facility}\n                        </label>\n                    </div>\n                    );\n                })}\n                </div>\n            </div>\n        </div>\n    );\n}\n","@import (reference) \"../less/styled-components.include.less\";\n\n.filter-input label{\n    display: inline;\n    font-size: 1.2rem;\n    margin-left: 5px;\n\n    &:hover {\n        font-weight: bold;\n    }\n}\n.rating-anchor {\n    text-decoration: none;\n    color: @black;\n    display: inline-block;\n    padding: 2px;\n    font-size: 1.1rem;\n    margin: 0 5px;\n    border: 1px solid @grey;\n    border-radius: 20%;\n    text-align: center;\n}\na:hover {\n    text-decoration: none;\n    color: @white;\n    background-color: @black;\n    color: @white;\n}\n.active {\n    text-decoration: none;\n    background-color: @black;\n    color: @white;\n    display: inline-block;\n    padding: 2px;\n    font-size: 1.1rem;\n    margin: 0 5px;\n    border-radius: 20%;\n    text-align: center;\n}",".holiday-box {\n  margin: 0 auto;\n  margin-bottom: 10px;\n  \n  .holiday-list-box {\n      margin: 0 auto;\n  }\n  .card-text {\n    -webkit-box-orient: vertical;\n    display: -webkit-box;\n    -webkit-line-clamp: 3;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: normal;\n    height: 45px;\n  }\n  .filters {\n    width: 250px;\n    height: auto;\n    margin-right: 10px;\n    border-radius: 7px;\n    box-shadow: 0 0 10px grey;\n    padding: 10px;\n  }\n\n  .hotels-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(180px, 250px));\n    width: 100%;\n    margin: 0 auto auto auto;\n    grid-gap: 20px;\n  }\n}\n\n","import { BookingRequest } from \"../types/booking\"\n\nexport type HttpMethod = \"GET\" | \"POST\" | \"PUT\" | \"DELETE\"\n\nexport const doRequest = <T>(method: HttpMethod, url: string, body: BookingRequest = undefined): Promise<T> => {\n  return new Promise<T>((resolve: (value: T) => void, reject: (any) => void) => {\n    run(method, url, body, (request: XMLHttpRequest) => {\n      if (request.readyState !== 4) {\n        return\n      }\n      switch (request.status) {\n        case 200:\n          resolve(JSON.parse(request.responseText) as T)\n          break\n        case 204:\n          resolve(undefined)\n          break\n        case 500:\n          const isJson = request.getResponseHeader('content-type') === 'application/json'\n          reject(isJson ? JSON.parse(request.responseText) : undefined)\n        default:\n          reject(undefined)\n          break\n      }\n    })\n  })\n}\n\nconst run = (method: HttpMethod, url: string, body: BookingRequest = undefined, stateChange: (request: XMLHttpRequest) => void): void => {\n  const xmlHttpRequest = new XMLHttpRequest()\n  xmlHttpRequest.onreadystatechange = () => stateChange(xmlHttpRequest)\n  xmlHttpRequest.open(method, url)\n  xmlHttpRequest.setRequestHeader(\"Content-Type\", \"application/json\")\n  xmlHttpRequest.send(body != null ? JSON.stringify(body) : undefined)\n}","module.exports = require('./helpers/bundle-url').getBundleURL('7nle3') + require('./helpers/bundle-manifest').resolve(\"d23N9\");"],"names":["$80377589708a084f$export$2e2bcd8739ae039","searchParams","$80377589708a084f$var$__read","$54O0r","useRouter","_b1","$hXbB3","useState","isLoading","setLoading","_c1","holidays","setHolidays","useEffect","departureDate","$egzgZ","DateTime","fromFormat","_a","matches","toFormat","requestBody","bookingType","location","_b","duration","_c","gateway","partyCompositions","adults","_d","childAges","infants","$3u2pd","doRequest","then","response","$9Hoy9","h","className","$fpFrq","default","src","$jP85F","width","$4xscx","$34e01eaa79cd0ddc$export$2e2bcd8739ae039","props","$34e01eaa79cd0ddc$var$__read","filteredHolidays","setFilteredHolidays","selectedPrice","setSelectedPrice","selectedRating","setSelectedRating","selectedFacilities","setSelectedFacilities","_e","render","setRender","selectedFilter","filteredResult","length","filter","holiday","indexOf","parseInt","filterHoliday_1","forEach","range","push","concat","apply","$34e01eaa79cd0ddc$var$__spread","every","requiredFacilities","includes","$7fVlg","filters","$loU3k","handlePriceFilter","e","currentTarget","target","numberRangeArr","value","split","map","item","check","checked","prevState","handleRatingFilter","handleFacilityFilter","handleRemoveFilter","setTimeout","$94aDs","hotel","pricePP","parcelRequire","$699cbcc0bb15af66$export$2e2bcd8739ae039","images","timestamp","name","description","rating","content","vRating","$jj051","Math","floor","random","id","img","i","RESULTS_CAROUSEL","url","header","cardText","$5xtnu","$e0dfda8c01991a21$export$b174cdeab3f39873","$e0dfda8c01991a21$export$69b2c67571acbe57","$e0dfda8c01991a21$export$ed94579925fb16af","$e0dfda8c01991a21$export$38e42c68cf43b5d4","module","exports","getBundleURL","resolve","$f94751c84ddc5670$export$2e2bcd8739ae039","priceFilter","arr","$6o587","type","toString","onClick","htmlFor","ratingFilter","stars","$iL8LD","FACILITIES","facility","key","$4a68f6aeee07f867$export$11c54b934b951913","$54866a06ec2727df$export$ddf6b42b454aad31","$54866a06ec2727df$export$82462a21aead86ed","$54866a06ec2727df$export$cdac167ac3ce821e","$54866a06ec2727df$export$9d8cd9eb34fa785e","$28960a2caafb0bbc$export$707dc63f85edc8be","method","body","undefined","Promise","reject","$28960a2caafb0bbc$var$run","request","readyState","status","JSON","parse","responseText","isJson","getResponseHeader","stateChange","xmlHttpRequest","XMLHttpRequest","onreadystatechange","open","setRequestHeader","send","stringify"],"version":3,"file":"results.route.daab1af7.js.map"}